<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Flujo H - Material de agregación</title>
</head>
<body>
  <h1>Flujo H: Material de agregación</h1>
  <form method="post">
    <h2>¿Agregar más material?</h2>
    <select name="agregar_material" required>
      <option value="">Seleccionar</option>
      <option value="SI">SI</option>
      <option value="NO">NO</option>
    </select><br><br>
    
    <div id="material_selection" style="display:none;">
      <h2>Seleccione Materiales:</h2>
      <select name="materiales" multiple>
        {% for mat in materiales %}
          <option value="{{ mat }}">{{ mat }}</option>
        {% endfor %}
      </select><br><br>
      <h2>Ingrese cantidades para cada material seleccionado:</h2>
      <p>Formato: material: cantidad (Ej: Material1:5,Material2:10)</p>
      <input type="text" name="quantity_info" placeholder="Material1:5,Material2:10"><br><br>
    </div>
    
    <button type="submit">Aplicar selección</button>
  </form>
  
  <script>
    // JavaScript sencillo para mostrar u ocultar la sección de selección de materiales
    document.querySelector('select[name="agregar_material"]').addEventListener('change', function(){
      var sel = this.value;
      if(sel === "SI"){
        document.getElementById("material_selection").style.display = "block";
      } else {
        document.getElementById("material_selection").style.display = "none";
      }
    });
  </script>
</body>
</html>
